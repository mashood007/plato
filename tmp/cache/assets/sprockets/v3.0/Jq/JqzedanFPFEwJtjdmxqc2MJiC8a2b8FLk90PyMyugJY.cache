I"1(function() {
  window.calculate_subscription = function(id) {
    var number_of_boards, number_of_users;
    number_of_users = $('#number_of_users').val();
    number_of_boards = $('#number_of_boards').val();
    return $.ajax({
      url: '/subscriptions/calculate.json',
      type: 'get',
      data: {
        id: id,
        number_of_users: number_of_users,
        number_of_boards: number_of_boards
      },
      success: function(response) {
        var message;
        if (response.title === 'error') {
          $('.subscribe_button').hide();
          message = '<div class=\'alert alert-danger\'>' + response.message + '</div>';
        } else {
          $('.subscribe_button').show();
          message = '<div class=\'alert alert-success\'>' + response.message + '</div>';
        }
        return $('.subscription_messages').html(message);
      }
    });
  };

  window.select_subsciption_type = function(subscription_id) {
    $('#subscribe_subscription_id').val(subscription_id);
    $('.subscription_type').removeClass('border_red');
    $('#subscription_type_' + subscription_id).addClass('border_red');
    $.ajax({
      url: '/subscriptions/details',
      type: 'get',
      data: {
        id: subscription_id
      }
    });
    return calculate_subscription(subscription_id);
  };

}).call(this);
:ET